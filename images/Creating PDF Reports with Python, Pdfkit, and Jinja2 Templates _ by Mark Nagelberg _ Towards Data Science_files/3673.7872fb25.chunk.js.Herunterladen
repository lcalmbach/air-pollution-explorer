(self.webpackChunklite=self.webpackChunklite||[]).push([[3673],{90194:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(67294),i=n(55099),o=n(42933),l=n(77180),a=n(6688),c=n(14856),s=function(e){var t,n=e.buttonSize,s=void 0===n?"LARGE":n,u=e.buttonStyle,m=void 0===u?"STRONG":u,d=e.showMailIcon,p=void 0===d||d,E=e.onClick,f=e.width,b=e.buttonText,g=void 0===b?"Get this newsletter":b,h=e.redirectUrl,y=e.displayOnly,w=void 0!==y&&y,v=(0,l.F)(),S=(0,a.I)();return r.createElement(i.z,{buttonStyle:m,onClick:E,size:s,width:f,padding:"0 8px",href:h,displayOnly:w},r.createElement(o.x,{paddingRight:"8px",justifyContent:"center",alignItems:"center"},p&&r.createElement("span",{className:S((t=v.accentColor.background,{stroke:t})),"aria-hidden":"true"},r.createElement(c.Z,null)),g))}},8015:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(67294),i=n(42933),o=n(55099),l=n(6688),a=n(99701),c={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},s=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},u=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,u=e.buttonStyle,m=void 0===u?"STRONG":u,d=e.width,p=void 0===d?"207px":d,E=(0,l.I)(),f=function(){var e=(0,a.o)({keyframesName:c}).keyframesName;return r.createElement("div",{className:E(s(e))})},b=function(){return r.createElement(i.x,null,r.createElement(i.x,{display:"inline-block",float:"left",marginRight:"8px"},r.createElement(f,null)),r.createElement(i.x,{float:"left"},"Loading.."))};return r.createElement("div",{style:{cursor:"wait"}},r.createElement(o.z,{buttonStyle:m,onClick:function(){return null},size:n,width:p,disabled:!0},r.createElement(b,null)))}},11969:(e,t,n)=>{"use strict";n.d(t,{B:()=>A,x:()=>L});var r=n(67154),i=n.n(r),o=n(63038),l=n.n(o),a=n(28655),c=n.n(a),s=n(71439),u=n(67294),m=n(90194),d=n(99033),p=n(76532),E=n(62181),f=n(42933),b=n(92528),g=n(41707),h=n(1072),y=n(55099),w=n(82318),v=n(77601),S=n(98024),x=n(95760),T=n(51512),C=n(14391),R=n(85277),O=n(8403),k=n(67297),N=n(51064),V=n(27952),I=n(534);function _(){var e=c()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    slug\n    type\n    user {\n      id\n      name\n      username\n    }\n    collection {\n      slug\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n    ...SusiClickable_newsletterV3\n    ...useNewsletterV3Subscription_newsletterV3\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var A=(0,s.Ps)(_(),E.Os,E.GB,I.Gi,d.DI),L=function(e){var t,n,r,o,a=e.newsletterV3,c=e.buttonLayout,s=void 0===c?"MULTI-LINE":c,_=e.helperTextColor,A=void 0===_?"LIGHTER":_,L=e.showHelperText,P=void 0===L||L,B=e.showMailIcon,U=void 0===B||B,j=e.buttonSize,G=void 0===j?"LARGE":j,M=e.buttonStyle,D=void 0===M?"STRONG":M,F=e.redirectUrl,z=e.buttonText,$=e.width,W=(0,p.H)().value,Y=a.id,H=a.collection?a.collection:void 0,q=a.user?a.user:void 0,Q=(0,R.w)(),Z=(0,O.PM)(),K=(0,T.Lk)(),X=(0,x.Av)(),J=(0,k.v9)((function(e){return e.config.productName})),ee=(0,N.O)(!1),te=l()(ee,3),ne=te[0],re=te[1],ie=te[2];switch(a.type){case C.Rr.NEWSLETTER_TYPE_COLLECTION:t=a.name,n="Get this newsletter",r="You’re signed up for ".concat(t,"."),o="newsletter_v3_promo";break;case C.Rr.NEWSLETTER_TYPE_AUTHOR:t=null==q?void 0:q.name,n="Subscribe",r="You’re subscribed to ".concat(t),o="subscribe_user"}var oe=(0,d.oT)({newsletterV3:a,newsletterName:t}),le=oe.isSubscribed,ae=oe.hasError,ce=oe.setSubscribe;u.useEffect((function(){if(Z){var e=(0,T.P7)(Z||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&le&&Q({duration:"NEXTPAGE",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:t,newsletterType:a.type,unsubscribeFn:function(){return ce(!1)}}})}}),[Z,le]);var se=function(e){var t=e.children;return u.createElement(f.x,{margin:"COMPACT"===s?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},ue=function(e){var t=e.children;return u.createElement(f.x,{maxWidth:"COMPACT"===s?"380px":"",margin:"COMPACT"===s?"10px 0 10px 0":"10px 0 0 0"},u.createElement(S.F,{scale:"S",color:A},t))},me=function(){var e=(0,V.Zul)(Y),r={buttonSize:G,buttonStyle:D,onClick:function(){var e;W?W&&W.allowEmailAddressSharingEditorWriter?ce(!0,!1):re():null!=q&&null!==(e=q.newsletterV3)&&void 0!==e&&e.id?X.event("newsletterV3.subscribeClicked",{newsletterV3Id:q.newsletterV3.id,source:K}):null!=q&&q.id&&X.event("user.LOSubscribeClicked",{targetUserId:q.id,source:K})},showMailIcon:U,buttonText:z||n,redirectUrl:F,width:$};return u.createElement(se,null,W?u.createElement(u.Fragment,null,u.createElement(m.w,r),u.createElement(b.Q,{onConfirm:function(){return ce(!0,!0)},isVisible:ne,hide:ie,titleText:"Confirm your subscription to ".concat(t),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(J,". You can opt out of sharing your email address by unsubscribing in your Settings."))):u.createElement(E.R9,{operation:"register",newsletterV3:a,user:q,collection:H,actionUrl:e,susiEntry:o,redirectTo:F},u.createElement(m.w,i()({},r,{redirectUrl:void 0}))))};return u.createElement(u.Fragment,null,u.createElement(g.Z,null,(function(e){return u.createElement(h.f,{theme:(0,I.jN)(H,e)},le?u.createElement(u.Fragment,null,u.createElement(se,null,u.createElement(y.z,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return ce(!1)}},"Unsubscribe")),P&&u.createElement(ue,null,r)):u.createElement(T.cW,{source:{newsletterV3Id:a.id},extendSource:!0},u.createElement(me,null),P&&W&&u.createElement(ue,null,"Emails will be sent to ",W.email,".",u.createElement(E.R9,{operation:"login",newsletterV3:a,collection:H,susiEntry:o},u.createElement(w.r,{display:"block",onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))))})),ae&&u.createElement(v.F,{toastStyle:"RETRYABLE_ERROR",isVisible:ae,hide:function(){}}))}},56202:(e,t,n)=>{"use strict";n.d(t,{QL:()=>P,Ae:()=>B,Lh:()=>U});var r=n(28655),i=n.n(r),o=n(59713),l=n.n(o),a=n(63038),c=n.n(a),s=n(46829),u=n(71439),m=n(67294),d=n(90194),p=n(8015),E=n(90738),f=n(14414),b=n(7785),g=n(7462),h=n(1072),y=n(42933),w=n(82318),v=n(98024),S=n(51512),x=n(77180),T=n(37581),C=n(14391),R=n(67297),O=n(49456),k=n(51299),N=n(27952),V=n(534);function I(){var e=i()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    type\n    user {\n      id\n      name\n      username\n    }\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return I=function(){return e},e}function _(){var e=i()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return _=function(){return e},e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=(0,x.F)(),o=(0,S.pK)(),l=(0,S.hp)(),a=(0,R.v9)((function(e){return e.config.authDomain})),u=(0,R.v9)((function(e){return e.navigation.currentLocation})),I=(0,R.v9)((function(e){return e.config.productName})),_=m.useState(""),A=c()(_,2),P=A[0],U=A[1],j=m.useState(""),G=c()(j,2),M=G[0],D=G[1],F=m.useState(!1),z=c()(F,2),$=z[0],W=z[1],Y=m.useState(!1),H=c()(Y,2),q=H[0],Q=H[1],Z=m.useState(!1),K=c()(Z,2),X=K[0],J=K[1],ee=m.useState(!1),te=c()(ee,2),ne=te[0],re=te[1],ie=m.useState(""),oe=c()(ie,2),le=oe[0],ae=oe[1],ce="register",se=r.type===C.Rr.NEWSLETTER_TYPE_AUTHOR?"Subscribe":"Get this newsletter",ue=null==u.match("http[s]?://[^/]*".concat(a)),me=r.collection,de=r.id,pe=r.slug,Ee=r.user,fe=(0,N.Zul)(de),be=me?(0,N.iBn)(pe,a,me,(null==Ee?void 0:Ee.username)||""):u;(0,s.useQuery)(b.qz,{fetchPolicy:"no-cache",skip:!fe||ue,onCompleted:function(e){var t=e.accountToken;return t&&ae((0,f.hQ)(be,o,l,fe,t))}});var ge=function(e){U(e),W(!0),setTimeout((function(){return W(!1)}),g.zn),Q(!1),J(!1)},he=function(){(0,O.J)(M)?(J(!0),Q(!0)):ge("Enter a valid email address.")},ye=function(){ge("We couldn't process your request. Try again, or contact our support team.")},we=(0,s.useMutation)(B,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":D(M),re(!0);break;case"BadRequest":ge("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:ye()}},onError:ye}),ve=c()(we,1)[0],Se={newsletterV3Id:de,email:M,operation:ce,redirect:le},xe=(0,k.U)(),Te=r.type===C.Rr.NEWSLETTER_TYPE_AUTHOR?{xl:425,lg:425,md:375,sm:475,xs:250,"":200}:{xl:375,lg:375,md:325,sm:450,xs:200,"":200};return m.createElement(h.f,{theme:(0,V.jN)(me,i)},m.createElement(y.x,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},m.createElement(E.k,{callback:function(e){ve({variables:L({captchaValue:e},Se)})},shouldExecuteRecaptcha:q}),m.createElement(y.x,{display:ne?"none":"inline"},m.createElement(y.x,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",paddingTop:"16px"}},m.createElement(y.x,{marginTop:P&&"25px",sm:{marginTop:"0"}},m.createElement(g.II,{errorMessage:P,handleInputChange:function(e){D(e.target.value.trim())},handleSubmit:he,input:M,inputType:g.n$.EMAIL,isAnimating:$,textAlign:"start",placeholder:"Your email",width:"".concat(Te[xe],"px")})),m.createElement(y.x,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},X?m.createElement(p.B,{newsletterV3Id:de}):m.createElement(T.$,{eventData:{operation:ce}},m.createElement(d.w,{onClick:he,buttonText:se})))),m.createElement(y.x,{marginTop:P?"10px":"25px",sm:{marginTop:"25px"}},m.createElement(v.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",I," account if you don’t already have one. Review our"," ",m.createElement(w.r,{href:(0,N.wob)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),m.createElement(y.x,{display:ne?"inline":"none",marginBottom:"15px",marginTop:"5px"},m.createElement(v.F,{color:"DARKER",scale:"M"},m.createElement("b",null,"Check your inbox"),m.createElement("br",null),I," sent you an email at ",M," to complete your subscription."))))},B=(0,u.Ps)(_()),U=(0,u.Ps)(I(),V.Gi,N.nfI)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3673.7872fb25.chunk.js.map