(self.webpackChunklite=self.webpackChunklite||[]).push([[9264],{70450:(e,t,n)=>{"use strict";n.d(t,{Y4:()=>l,NJ:()=>c,lc:()=>s});var r=n(59713),o=n.n(r),i=n(90038);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){var t=e.miroId,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,a=e.focusPercentY,l=e.croppedWidth;if(!t)return null;var c=(0,i.vz)({miroId:t,aspectRatio:16/9,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),s=(0,i.vz)({miroId:t,aspectRatio:4/3,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),u=(0,i.vz)({miroId:t,aspectRatio:1,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),d=new Set([c,s,u]);return Array.from(d)}function c(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"@type":"ImageObject"},e)}function s(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),a=o/r,l=Math.floor(n*a);return c({width:l,height:o,url:(0,i.W6)({miroId:t,width:l,freezeGifs:!0,strategy:i._S.Resample})})}},4697:(e,t,n)=>{"use strict";n.d(t,{Xw:()=>V,e0:()=>B,Rf:()=>W});var r=n(59713),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),c=n(67294),s=n(90194),u=n(41707),d=n(1072),m=n(42933),p=n(51512),f=n(534);function g(){var e=a()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var h=(0,l.Ps)(g(),f.Gi),v=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,o=e.buttonSize,i=void 0===o?"LARGE":o,a=e.buttonStyle,l=void 0===a?"STRONG":a,g=e.redirectUrl;return c.createElement(u.Z,null,(function(e){return c.createElement(d.f,{theme:(0,f.jN)(null==t?void 0:t.collection,e)},c.createElement(p.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(m.x,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},c.createElement(s.w,{buttonSize:i,buttonStyle:l,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:g}))))}))},E=n(11969),b=n(56202),y=n(53976),S=n(76532),x=n(73891),w=n(82318),P=n(37278),I=n(98024),_=n(95760),O=n(6688),T=n(27108),C=n(14391),D=n(67297),R=n(80637),A=n(27952);function L(){var e=a()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function k(){var e=a()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    promoHeadline\n    promoBody\n    ...NewsletterV3AmpButton_newsletterV3\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var B=(0,l.Ps)(k(),h,E.B,b.Lh),W=(0,l.Ps)(L(),B),U=function(e){return o()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},R.sm(e),{padding:"24px 24px 28px 24px"})},N=function(e){var t=e.isAmp,n=e.viewer,r=e.newsletterV3,o=e.newsletterV3LandingUrl,i=e.useCustomDomainLOFlow;return t?r&&c.createElement(v,{newsletterV3:r,buttonLayout:"COMPACT",redirectUrl:o}):n||i?r&&c.createElement(E.x,{newsletterV3:r,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:i?o:void 0}):r&&c.createElement(b.QL,{newsletterV3:r})},V=function(e){var t,n,r,o,i,a=e.postId,l=e.publisher,s=c.useRef(null),u=(0,D.v9)((function(e){return e.config.authDomain})),d=(0,D.p9)((function(e){return e.config.isAmp})),f=(0,_.Av)(),g=(0,O.I)(),h=(0,S.H)().value,v=!!(0,y.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),E=!!(0,y.VB)({name:"enable_custom_writer_subscription_promos",placeholder:!1}),b=null==(0,D.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(u)),R=!h&&b&&v,L=l.newsletterV3,k=null==L?void 0:L.type,B=l.username,W=void 0===B?"":B,V=(0,A.iBn)(null!==(t=null==L?void 0:L.slug)&&void 0!==t?t:"",u,k===C.Rr.NEWSLETTER_TYPE_COLLECTION?l:void 0,k===C.Rr.NEWSLETTER_TYPE_AUTHOR&&W?W:void 0),j="Collection"===l.__typename?l:void 0,M=(0,x.gY)(j).viewerEdge;switch(k){case C.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==L?void 0:L.name),r="0px",o="You're an editor of ".concat(null==L?void 0:L.name),i=null==M?void 0:M.isEditor;break;case C.Rr.NEWSLETTER_TYPE_AUTHOR:n=E&&(null==L?void 0:L.promoHeadline)||"Get an email whenever ".concat(l.name," publishes."),r="6px",o="You cannot subscribe to yourself",i=l.viewerIsUser}var F=!1,H=function(){!F&&Y()&&(f.event("newsletterV3.promoViewed",{newsletterV3Id:null==L?void 0:L.id,postId:a}),F=!0)},Y=function(){var e;if(!s.current)return!1;var t=null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return c.useEffect((function(){return H(),window&&T.V6.on("scroll",H),function(){T.V6.off("scroll",H)}}),[]),L&&c.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},c.createElement("div",{ref:s,className:g(U)},c.createElement(m.x,{paddingBottom:r},c.createElement(P.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n)),k===C.Rr.NEWSLETTER_TYPE_COLLECTION&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"4px"},c.createElement(I.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(l.name))),c.createElement(m.x,{paddingTop:"8px",paddingBottom:"10px"},c.createElement(I.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==L?void 0:L.description,"Â ",!d&&c.createElement(w.r,{inline:!0,linkStyle:"OBVIOUS",href:V},"Take a look.")))),E&&k===C.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==L?void 0:L.promoBody)&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"8px",paddingBottom:"8px"},c.createElement(I.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==L?void 0:L.promoBody))),i?c.createElement(m.x,{paddingTop:"10px"},c.createElement(I.F,{scale:"M",color:"DARKER"},o)):c.createElement(m.x,{display:"flex",flexWrap:"wrap"},c.createElement(N,{viewer:h,isAmp:d,useCustomDomainLOFlow:R,newsletterV3:L,newsletterV3LandingUrl:V}))))}},34793:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,G:()=>m});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12598),c=n(42933),s=n(90038);function u(){var e=o()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var t=e.user;return t.imageId?a.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},a.createElement(l.E,{src:(0,s.W6)({miroId:t.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,i.Ps)(u())},51684:(e,t,n)=>{"use strict";n.d(t,{ZR:()=>f,HX:()=>h,b2:()=>v,hE:()=>E});var r=n(59713),o=n.n(r),i=n(67294),a=n(28859),l=n(43689),c=n(75209),s=n(42933),u=n(6688),d=n(27108),m=n(89349),p=n(21146),f=131,g=function(e){return{pointerEvents:e?"auto":"none"}},h=function(e){var t=e.children,n=e.disableTransition,r=e.isFixed,d=e.scrollableRef,p=e.sidebarRef,h=e.testId,v=e.topOffset,E=e.visible,b=e.fixedWidth,y=e.extraWide,S=void 0!==y&&y,x=(0,u.I)(),w=function(e){var t,n,r,c=e.isFixed,s=void 0===c||c,u=e.disableTransition,d=void 0!==u&&u,p=e.scrollableRef,f=e.topOffset,g=e.visible,h=e.fixedWidth,v=e.extraWide,E=void 0!==v&&v,b=(r=null===(t=i.useContext(a.u6).watchedBounds.get("header"))||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current)?r.offsetTop+r.offsetHeight+64:l.Je+54+40;return function(e){return function(t){var n,r=E?"@media all and (max-width: 1240px)":(0,m.uc)(t,e,t.grid.xStep*t.grid.marginSteps.lg,p&&"current"in p?p.current:null),i=void 0===f?b:f;return n={opacity:g?1:0,pointerEvents:"none",position:s?"fixed":"absolute",willChange:"opacity, transform",width:h?"".concat(h,"px"):"100%",transform:"translateY(".concat(i,"px)"),top:0},o()(n,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),o()(n,r,{display:"none"}),n}}}({isFixed:r,scrollableRef:d,topOffset:v,visible:E,disableTransition:n,fixedWidth:b,extraWide:S}),P=S?197:f;return i.createElement("div",{className:x(w(P)),"data-test-id":h},i.createElement(c.P,{size:"outset"},i.createElement(s.x,{display:"flex",flexDirection:"column",width:"".concat(P,"px"),ref:p},i.createElement("div",{className:x(g(E))},t))))},v=function(e,t,n,r){var o=e.current;if(!o)return!1;var i=r.threshold||10,a=Array.from(t.values()).filter((function(e){var t,r=e.ref,o=e.opts;return n.includes(null!==(t=o.type)&&void 0!==t?t:"")&&!!r.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=(0,p.L6)(t.current);return(0,p.Dd)(o,r)})),l=(0,p.L6)(o),c=0===l.width;return!a.some((function(e){return(0,p.kK)(e,l,i)}))&&!c},E=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?"scroll_throttled":"scroll";return function(){var n=(0,d.jC)(null!=t?t:void 0);return n.on(r,e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off(r,e),n.off("scroll_end",e),n.off("resize_throttled",e)}}}},85714:(e,t,n)=>{"use strict";n.d(t,{Lv:()=>d,v:()=>m,QX:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),c=n(85277);function s(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return s=function(){return e},e}function u(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}var d=(0,l.$j)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return a.useEffect((function(){n&&n.isSuspended?t((0,c.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):r&&r.isSuspended&&t((0,c.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==r?void 0:r.id)||""}}))}),[]),null})),m=(0,i.Ps)(u()),p=(0,i.Ps)(s())},35285:(e,t,n)=>{"use strict";n.d(t,{fY:()=>U,xe:()=>N,WI:()=>W});var r,o=n(28655),i=n.n(o),a=n(63038),l=n.n(a),c=n(46829),s=n(71439),u=n(58875),d=n.n(u),m=n(67294),p=n(76532),f=n(42933),g=n(82318),h=n(98024),v=n(95760),E=n(6688),b=n(79208),y=n(90038),S=function(e){return{backgroundColor:e.baseColor.background.light,borderColor:e.baseColor.border.light,borderRadius:"3px",borderWidth:"1px",alignItems:"center",padding:"25px 20px 25px 20px",marginTop:"",borderStyle:"solid"}},x=function(){var e=(0,E.I)();return m.createElement("div",{className:e([I,S])},m.createElement(f.x,{textAlign:"center"},m.createElement(f.x,null,"1000 x 1000"),m.createElement(f.x,null,"pixels")))},w=function(){return m.createElement(f.x,{marginRight:"5px",display:"inline-block"},m.createElement(h.F,{scale:"S",color:"ERROR"},"That file doesn't meet our requirements. Try another."))},P=function(){return m.createElement(f.x,{marginTop:"8px"},m.createElement(f.x,{marginRight:"5px",display:"inline-block"},m.createElement(h.F,{scale:"S",color:"ERROR"},"We couldn't process your request.")),m.createElement(f.x,{marginRight:"5px",display:"inline-block"},m.createElement(h.F,{scale:"S"},"Try again, or"," ",m.createElement(g.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us"},"search our help center for support."))))};!function(e){e.Success="success",e.UploadError="uploadError",e.InvalidError="invalidError"}(r||(r={}));var I={height:"132px",width:"132px",display:"flex",flexDirection:"row",justifyContent:"center"},_=function(e){var t=e.setImageId,n=e.initialImageId,o=e.source,i=(0,E.I)(),a=(0,v.Av)(),c=(0,p.H)().value,s=m.useState({imageId:n,imageWidth:0,imageHeight:0}),u=l()(s,2),d=u[0],h=u[1],S=m.useState(null),_=l()(S,2),O=_[0],T=_[1],C=function(e){T(e),a.event("user.updateAvatarResult",{userId:null==c?void 0:c.id,source:o,uploadResult:e})},D=(0,b.JA)((function(e,n,o){var i=n.height,a=n.width,l=e.value.fileId;h({imageId:l,imageHeight:i,imageWidth:a}),i<parseInt("1000px",10)||a<parseInt("1000px",10)?(C(r.InvalidError),k()):(t(l),C(r.Success),o())}),(function(){C(r.UploadError)}),(function(){C(r.InvalidError)})),R=D.inputRef,A=D.fireClick,L=function(){a.event("user.updateAvatarClick",{userId:null==c?void 0:c.id,source:o,hasImage:!!d.imageId}),A()},k=function(){h({imageId:"",imageWidth:0,imageHeight:0}),t("")},B=m.useCallback((function(){return m.createElement(f.x,{marginBottom:"10px"},m.createElement("input",{type:"file","aria-hidden":"true",ref:R,className:i({display:"none"})}),m.createElement(g.r,{inline:!0,linkStyle:"OBVIOUS",onClick:L},"Add photo"))}),[i,L,R]),W=m.useCallback((function(){return m.createElement("div",{className:i([I])},m.createElement("div",{className:i((function(){return{backgroundImage:"url(".concat((0,y.W6)({miroId:d.imageId||"",width:d.imageWidth||0,height:d.imageHeight||0}),")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"100%",width:"100%",borderRadius:"3px",display:"flex",flexDirection:"row"}}))}))}),[i,d]),U=m.useCallback((function(){return m.createElement(f.x,{display:"inline-block",marginBottom:"15px"},d.imageId?m.createElement(W,null):m.createElement(x,null))}),[d]);return m.createElement(f.x,{display:"flex",flexDirection:"column",maxWidth:"132px"},m.createElement(f.x,{display:"inline-block",float:"right"},m.createElement(U,null)),m.createElement(B,null),O===r.UploadError&&m.createElement(P,null),O===r.InvalidError&&m.createElement(w,null))},O=n(48573),T=function(e){var t=e.label,n=e.onChangeFn,r=e.onBlurFn,o=e.value,i=e.errorMessage,a=e.characterCountLimit;return m.createElement(m.Fragment,null,m.createElement(f.x,{marginBottom:"15px",textAlign:"left"},m.createElement(h.F,{scale:"L",tag:"h4"},t)),m.createElement(O.n,{scale:"L",onChange:n,value:o,errorMessage:i,onBlur:r,ariaLabel:t,characterCountLimit:a}))},C=n(92528),D=n(29035);function R(){var e=i()(["\n  mutation userCompleteProfileMutation(\n    $userId: ID!\n    $name: String!\n    $bio: String!\n    $imageId: String!\n  ) {\n    userCompleteProfile(userId: $userId, name: $name, bio: $bio, imageId: $imageId)\n  }\n"]);return R=function(){return e},e}function A(){var e=i()(["\n  fragment UserCompleteProfileDialog_user on User {\n    id\n    name\n    bio\n    imageId\n    hasCompletedProfile\n  }\n"]);return A=function(){return e},e}var L={min:3,max:50,message:"Please try another name thatâs between 3 and 50 characters."},k={min:10,max:160,message:"Please try another description thatâs between 10 and 160 characters."},B=function(e,t){var n=e.min,r=e.max,o=e.message;return function(e){var i=e.target.value;t(i.length<n||i.length>r?o:void 0)}},W=function(e){var t=(0,p.H)().value;return e?{shouldShowDialog:d().canUseDOM&&!(0,D.ic)(navigator.userAgent)&&(null==t?void 0:t.id)===e.id}:{shouldShowDialog:!1}},U=function(e){var t=e.setHasCompletedProfile,n=e.user,r=e.confirmText,o=void 0===r?"Continue":r,i=(0,v.Av)(),a=(0,p.H)().value,c=m.useState(!1),s=l()(c,2),u=s[0],d=s[1],g=V(),E=l()(g,1)[0],b=m.useState((null==n?void 0:n.imageId)||""),y=l()(b,2),S=y[0],x=y[1],w=m.useState((null==n?void 0:n.name)||""),P=l()(w,2),I=P[0],O=P[1],D=m.useState((null==n?void 0:n.bio)||""),R=l()(D,2),A=R[0],U=R[1],N=m.useState(),j=l()(N,2),M=j[0],F=j[1],H=m.useState(),Y=l()(H,2),G=Y[0],z=Y[1],X=B(L,F),$=B(k,z),K=m.useCallback((function(){a&&(d(!0),i.event("user.completedProfile",{userId:a.id,changedName:(null==n?void 0:n.name)!==I,changedBio:(null==n?void 0:n.bio)!==A,changedImage:(null==n?void 0:n.imageId)!==S,hasName:!!I,hasBio:!!A,hasImage:!!S}),E({variables:{userId:a.id,name:I,bio:A,imageId:S}}).then((function(){d(!1),t(!0)})))}),[a,E,d,n,I,A,S]),J=W(n).shouldShowDialog;return m.useEffect((function(){J&&i.event("user.presentedCompleteProfileDialog",{userId:null==a?void 0:a.id})}),[J]),J?m.createElement(m.Fragment,null,m.createElement(C.Q,{confirmText:o,titleText:"Complete your profile",isDestructiveAction:!1,onConfirm:K,isVisible:!0,hide:function(){},withCloseButton:!1,showCancelButton:!1,disableConfirm:u},m.createElement(h.F,{scale:"L",color:"DARKER"},"Readers like learning a bit more about their writers"),m.createElement(f.x,{marginTop:"48px",marginBottom:"28px",display:"flex",flexDirection:"row"},m.createElement(f.x,{overflow:"visible",maxHeight:"200px"},m.createElement(_,{setImageId:x,initialImageId:S,source:"userCompleteProfileDialog"})),m.createElement(f.x,{marginLeft:"48px",textAlign:"left"},m.createElement(f.x,{key:"name"},m.createElement(T,{label:"Full name",onChangeFn:function(e){return O(e.target.value)},onBlurFn:X,value:I,errorMessage:M})),m.createElement(f.x,{key:"bio",marginTop:"40px"},m.createElement(T,{label:"Bio (optional, max 160 characters)",onChangeFn:function(e){return U(e.target.value)},onBlurFn:$,value:A,errorMessage:G,characterCountLimit:160})))))):null},N=(0,s.Ps)(A()),V=function(){return(0,c.useMutation)(j)},j=(0,s.Ps)(R())},76634:(e,t,n)=>{"use strict";n.d(t,{gc:()=>en,De:()=>nn,m6:()=>rn});var r=n(28655),o=n.n(r),i=n(67154),a=n.n(i),l=n(59713),c=n.n(l),s=n(63038),u=n.n(s),d=n(71439),m=n(67294),p=n(12291),f=n(28859),g=n(7893),h=n(17305),v=n(45113),E=n(9972),b=n(11334),y=n(94132),S=n(26463),x=n(62872),w=n(87508),P=n(69625),I=n(47578),_=n(42963),O=n(76532),T=n(73891),C=n(67297),D=n(27952);function R(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return R=function(){return e},e}var A=function(e){var t=e.children,n=e.post,r=(0,C.v9)((function(e){return e.config.authDomain})),o=(0,O.H)().value,i=n.collection,a=n.creator&&o&&n.creator.id===o.id,l=(0,T.gY)(i).viewerEdge;return!n.isPublished&&(!i&&a||a&&null!=l&&l.canEditOwnPosts||null!=l&&l.isEditor||null!=l&&l.canEditPosts)?m.createElement(_.l,{to:(0,D.d0A)(r,n.id)}):m.createElement(m.Fragment,null,t)},L=(0,d.Ps)(R()),k=n(66371),B=n(55253),W=n(81890),U=n(70405),N=n(319),V=n.n(N),j=n(82492),M=n.n(j),F=n(68254),H=n.n(F),Y=n(70450),G=n(90038),z=n(96879),X=n(22744),$=n(61598);function K(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return K=function(){return e},e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=(0,p.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,a=e.defaultImages,l=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,d=r.mediumUrl,p=r.isLocked,f=r.previewImage,g=r.firstPublishedAt,h=r.updatedAt,v=r.structuredData,E=(0,X._t)(r,i),b={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},y={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},S=c?{"@type":"Organization",name:c.name,url:c.domain||(0,z.l1)(n,(0,D.WGd)(c,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,Y.lc)(y);var t=(0,Y.lc)(e.logo);return t&&60===t.height&&t.width<=600?t:(0,Y.lc)(y)}(c)}:{"@type":"Organization",name:i,url:(0,z.l1)(n,"/"),logo:(0,Y.lc)(y)};c&&l&&l[c.id]&&M()(S,l[c.id].data);var x=f&&f.id?(0,Y.Y4)(q(q({},f),{},{miroId:f.id,croppedWidth:1200})):(0,Y.NJ)({url:(0,G.W6)({miroId:b.id,width:b.originalWidth}),height:b.originalHeight,width:b.originalWidth}),w=o||"",P=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},I={"@context":"http://schema.org"},_=q({"@type":"NewsArticle",image:x,url:d,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:h&&new Date(h).toISOString(),headline:E,name:E,description:w,identifier:u,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,D.AWr)(s,n)}:null,creator:s&&[s.name],publisher:S,mainEntityOfPage:d},P),O=q(q({},I),_);if(v&&v.length>0)try{var T=JSON.parse(v);if(T&&null!=T&&T["@graph"]&&(null==T?void 0:T["@graph"].length)>0){var C=((null==T?void 0:T["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));C&&C.length>0&&(O=q(q({},I),{},{"@graph":[_].concat(V()(C))}))}}catch(e){}return m.createElement(U.q,null,m.createElement("script",{type:"application/ld+json"},H()(O,{isJSON:!0})))})),Z=(0,d.Ps)(K(),X.bq,$.$),ee=n(27390),te=n(71794);function ne(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ne=function(){return e},e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,a=e.productName,l=e.post,c=l.canonicalUrl,s=l.collection,u=l.creator,d=l.id,p=l.latestPublishedAt,f=l.mediumUrl,g=l.previewContent,h=l.socialTitle,v=l.socialDek,E=l.visibility,b=l.isShortform,y=s&&s.ampEnabled,S=u&&u.name,x=(0,X.yB)(l),w=l.title||"",P=x.latestTitle||w;if(b){var I=oe(oe({},l),{},{title:P});t=(0,X.oS)(I,a,x.hasTitleGraf).trim(),n=(0,te.OO)(l,x.hasTitleGraf)}else t=(0,X._t)(l,a,x,!0).trim(),n=(0,te.j7)(l);var _,O,T=v||g&&g.subtitle||n;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var C=l.previewImage;_=(0,G.vz)({miroId:C.id,aspectRatio:1.9,croppedWidth:C.originalWidth?Math.min(C.originalWidth,1200):1200,originalWidth:C.originalWidth,originalHeight:C.originalHeight,focusPercentX:C.focusPercentX,focusPercentY:C.focusPercentY})}else if(l.isLimitedState){var R={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};_=(0,G.vz)({miroId:R.id,aspectRatio:1.9,croppedWidth:R.originalWidth?Math.min(R.originalWidth,1200):1200,originalWidth:R.originalWidth,originalHeight:R.originalHeight,focusPercentX:R.focusPercentX,focusPercentY:R.focusPercentY})}u&&u.username&&(O=(0,D.AWr)(u,i));var A=(0,D.CK_)(d),L=!(0,X.c_)(l),k=p&&new Date(p).toISOString(),B=(0,ee.Vd)(l.readingTime||0),W=u&&u.twitterScreenName,N=s&&s.twitterUsername||"Medium",V=s&&s.facebookPageId,j=h||w||P;l.isLimitedState&&(j="");var M=l.isLimitedState?"":T,F=m.useMemo((function(){var e;return m.createElement(U.q,{htmlAttributes:r?{amp:void 0}:{}},m.createElement("meta",{property:"og:type",content:"article"}),k&&m.createElement("meta",{property:"article:published_time",content:k}),y&&!r?m.createElement("link",{rel:"amphtml",href:(0,D.VcI)(o,d)}):null,m.createElement("title",null,t),m.createElement("meta",{name:"title",content:t}),m.createElement("meta",{property:"og:title",content:j}),m.createElement("meta",{property:"twitter:title",content:j}),V&&m.createElement("meta",{property:"fb:pages",content:V}),m.createElement("meta",{name:"twitter:site",content:"@".concat(N)}),m.createElement("meta",{name:"twitter:app:url:iphone",content:A}),m.createElement("meta",{property:"al:android:url",content:A}),m.createElement("meta",{property:"al:ios:url",content:A}),m.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&m.createElement("meta",{name:"description",content:n}),T&&m.createElement("meta",{property:"og:description",content:M}),T&&m.createElement("meta",{property:"twitter:description",content:M}),m.createElement("meta",{property:"og:url",content:null!=f?f:void 0}),m.createElement("meta",{property:"al:web:url",content:null!=f?f:void 0}),_&&m.createElement("meta",{property:"og:image",content:_}),_&&m.createElement("meta",{name:"twitter:image:src",content:_}),m.createElement("meta",{name:"twitter:card",content:_?"summary_large_image":"summary"}),O&&m.createElement("meta",{property:"article:author",content:O}),O&&m.createElement("link",{rel:"author",href:O}),W&&m.createElement("meta",{name:"twitter:creator",content:"@".concat(W)}),S&&m.createElement("meta",{name:"author",content:S}),m.createElement("link",{rel:"canonical",href:null!==(e=c||f)&&void 0!==e?e:void 0}),m.createElement("link",{rel:"alternate",href:(0,D.zix)((0,D.o2w)("medium.com",l.id))}),m.createElement("meta",{name:"robots",content:"".concat(L?"noindex":"index",",follow,max-image-preview:large")}),m.createElement("meta",{name:"referrer",content:"UNLISTED"!==E?"unsafe-url":"origin"}),r?null:m.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:m.createElement("meta",{name:"twitter:data1",content:"".concat(B," min read")}))}),[r,t,c,f,_,y,d,h,n,O,S,W,A,L,k]);return m.createElement(m.Fragment,null,F,m.createElement(Q,{post:l,postDescription:n}))})),ae=(0,d.Ps)(ne(),Z,te.iI,te.m3,X.HF,X.Pz,X.dm,X.bq,$.$),le=n(80439),ce=n(89423),se=n(1932),ue=n(32272),de=n(42933),me=n(82318),pe=n(55099),fe=n(77284),ge=n(3149),he=n(98024),ve=n(17614),Ee=n(27108),be=n(14391),ye=n(85277),Se=n(8403),xe=n(67122),we=n(76579);function Pe(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return Pe=function(){return e},e}function Ie(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return Ie=function(){return e},e}function _e(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return _e=function(){return e},e}var Oe=function(){return m.createElement(de.x,null,m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,D.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var Te,Ce=(0,d.Ps)(_e(),ue.o),De=(0,d.Ps)(Ie(),Ce),Re=function(e){var t=e.url,n=e.label;return m.createElement(we.b,{url:t},(function(e){return m.createElement(de.x,{marginBottom:"8px"},m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(de.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},Ae=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(he.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),m.createElement(de.x,{marginTop:"20px"},!n&&m.createElement(m.Fragment,null,m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),m.createElement(Re,{url:r,label:"Copy story link"})))},Le=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,a=o.visibility,l=o.curationEligibleAt,c=o.mediumUrl,s=o.isNewsletter,u=o.isPublishToEmail,d=o.isMarkedPaywallOnly,p=o.creator,f=(0,se.Tf)(o),g=f.viewerEdge,h=f.loading,v="UNLISTED"===a,E=!!l,b=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===be.iR.ENROLLED,y=null==g?void 0:g.shareKey,S=(0,C.v9)((function(e){return e.config.productName})),x="Your story is published!";return u&&t===(null==p?void 0:p.id)?x="Your story has been published and sent!":s&&(x="Your newsletter is on its way!"),h?null:m.createElement(fe.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(de.x,{background:xe.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,xe.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(de.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(ve.F1,{scale:"L",tag:"h3"},x),m.createElement(de.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(he.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,i){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. Itâll also show up on ",t," readersâ homepages and Digest emails depending on their interests."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,i):e?"Your unlisted story will not appear publicly on ".concat(i,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?m.createElement(m.Fragment,null,"As a member of the Partner Program, youâve chosen to make this story eligible to earn money. It will be part of ",i,"âs metered paywall.",m.createElement(Oe,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",i,"âs metered paywall.",m.createElement(Oe,null)):m.createElement(m.Fragment,null,"This story isnât currently eligible to earn money. To make this story eligible, join the"," ",i," Partner Program."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(v,E,b,s,null!=d&&d,S))),m.createElement(de.x,{paddingTop:"20px"},E&&!v&&c&&y&&m.createElement(Re,{url:(0,z.Rk)((0,D.jVf)(o),{sk:y}),label:"Copy Friend Link"})),m.createElement(de.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&c&&m.createElement(Ae,{post:o,isUnlisted:v,postPath:(0,D.jVf)(o)})),m.createElement(ge.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(Te||(Te={}));var ke=function(e){var t=e.post,n=m.useState(!1),r=u()(n,2),o=r[0],i=r[1],a=m.useCallback((function(){return i(!1)}),[i]),l=(0,p.I0)(),c=(0,Se.Wd)("postPublishedType"),s=(0,T.gY)(t.collection).viewerEdge;m.useEffect((function(){switch(c){case Te.initial:i(!0);break;case Te.repub:l((0,ye.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var d=m.useState(!1),f=u()(d,2),g=f[0],h=f[1];return g?m.createElement(ce.I,null,(function(e){return null!=e&&e.id&&(e.id===(t.creator&&t.creator.id)||t.collection&&null!=s&&s.isEditor)?m.createElement(le.AE,{ssr:!1,query:De,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,i=(r=void 0===r?{}:r).post;return n||!i||i.inResponseToPostResult?null:m.createElement(Le,{isVisible:o,hide:a,post:i,viewerId:e.id})})):null})):(Ee.V6.on("load",(function(){return h(!0)})),null)},Be=(0,d.Ps)(Pe()),We=n(50008),Ue=n.n(We),Ne=n(46829),Ve=n(27493),je=n(51684),Me=n(83021),Fe=n(51512),He=n(15699);function Ye(){var e=o()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n"]);return Ye=function(){return e},e}var Ge=m.forwardRef((function(e,t){var n=e.postId,r=m.useRef(null),o=(0,Ne.useQuery)(ze,{variables:{postId:n}}),i=o.data,a=o.loading,l=o.error,c=m.useContext(f.u6).watchedBounds,s=m.useState(!1),d=u()(s,2),p=d[0],g=d[1],h=m.useState(!1),v=u()(h,2),E=v[0],b=v[1],y=m.useState(0),S=u()(y,2),x=S[0],w=S[1],P=function(e){var t,n="object"===Ue()(e)?null==e?void 0:e.current:null,r=null==n?void 0:n.getBoundingClientRect();return 100+(null!==(t=null==r?void 0:r.top)&&void 0!==t?t:0)}(t);m.useEffect((0,Me.T6)(c,b),[c]);var I=m.useCallback((function(){!function(e,t,n,r){e.current&&n((0,je.b2)(e,t,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(r,c,g);var e=(0,Me.Ui)(x,P,r);e!==x&&w(e)}),[c,x,P]);m.useEffect((function(){I()}),[]);var _="object"===Ue()(t)?t:null;m.useEffect((0,je.hE)(I,null==_?void 0:_.current),[I,null==_?void 0:_.current]);var O=p&&E,T=null==i?void 0:i.recirc.items;if(l||a||!T.length)return null;var C=T.slice(0,4);return m.createElement(de.x,{width:"380px",float:"right",position:"fixed",top:"20%",right:"0"},m.createElement(je.HX,{sidebarRef:r,scrollableRef:t,visible:O,topOffset:P,isFixed:!0,extraWide:!0},m.createElement(de.x,null,m.createElement(he.F,{scale:"M",color:"LIGHTER"},"Read Next"),C.map((function(e,t){return m.createElement(Fe.cW,{source:{name:"read_next_recirc",index:t,feedId:e.feedId},key:"post-page-read-next-recirc".concat(n,"-").concat(t)},m.createElement(He.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(Ve.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0})))})))))})),ze=(0,d.Ps)(Ye(),Ve.Q),Xe=n(49925),$e=n(10103),Ke=n(59877);function Je(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Je=function(){return e},e}var qe,Qe=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,Xe.GT)(r),i=n.customStyleSheet;return o?m.createElement($e.G8,{customStyleSheet:i,publisher:r},t):m.createElement($e.G8,{customStyleSheet:null,publisher:r},m.createElement(Ke.r,null,t))},Ze=(0,d.Ps)(Je(),$e.Kc,$e.Ps,Xe.C5),et=n(62182),tt=n(50493),nt=n(15789),rt=n(80870),ot=n(50188),it=n(24881),at=n(55127),lt=n(56365),ct=n(6688),st=function(e){var t=e.children,n=e.rule,r=(0,ct.I)(),o=n?r(n):"";return o?m.createElement("div",{className:o},t):m.createElement(m.Fragment,null,t)},ut=n(85489),dt=n(73788),mt=n(53976),pt=n(47552),ft=n(36511),gt=n(37395),ht=n(32589),vt=n(52788),Et=n(85714),bt=n(51562),yt=n(324),St=n(37258),xt=n(19608),wt=n(27168),Pt=n(48881),It=n(59317),_t=n(4709),Ot=n(98281),Tt=n(95760),Ct=n(33572),Dt=n(81591),Rt=n(69332),At="alternate_user_top_banner",Lt=function(e){var t=e.userSocialLogins,n=(0,It.j)().openModal;return t.facebook||t.google||t.twitter?m.createElement(xt.r,{userSocialLogins:t}):m.createElement(St.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:At})},userId:t.userId},(function(e){var t=e.handleSubmit;return m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},kt=function(){var e=(0,O.H)().value,t=(0,ft.r)().viewerId,n=(0,p.I0)(),r=(0,Tt.Av)(),o=m.useState(!1),i=u()(o,2),a=i[0],l=i[1],c=m.useState("loading"),s=u()(c,2),d=s[0],f=s[1];return m.useEffect((function(){n((0,Rt.e6)(!0)),l(!0)}),[]),m.useEffect((function(){"rendered"===d&&n((0,Dt.T)(!0)),"not_eligible"===d&&n((0,Rt.e6)(!1))}),[d]),m.createElement(Fe.cW,{source:{susiEntry:At}},m.createElement(Pt.o,{postRenderCallback:function(e,n,o){f(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,Ct.S)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,l=n.declineSuggestedAccount,c=n.userSocialLogins;return a&&i&&l&&c?m.createElement(yt.N8,null,m.createElement(_t.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,Ct.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},m.createElement(de.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(de.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=c.userAvatar)||void 0===o?void 0:o.imageId)&&m.createElement(de.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(Ot.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(bt.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(he.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",m.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(de.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(Lt,{userSocialLogins:c}),m.createElement(de.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(wt.G,{declineSuggestedAccount:l,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},Bt=n(94937),Wt=n(35285),Ut=n(66210),Nt=n(58491),Vt=n(11348),jt=n(31517),Mt=n(172),Ft=n(8261),Ht=n(97963),Yt=n(30389),Gt=n(27140),zt=n(6639),Xt=n(65441);function $t(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $t=function(){return e},e}function Kt(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Kt=function(){return e},e}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.initial="initial",e.repub="repub"}(qe||(qe={}));var Qt=function(e){return(0,ut.fl)(null==e?void 0:e.postBody)},Zt=function(){return null};function en(e){var t,n,r,o,i,a,l=e.meteringInfo,c=e.post,s=c.id,d=c.isPublished,E=c.isLocked,b=c.isShortform,S=c.content,x=c.collection,_=c.canonicalUrl,R=c.creator,L=(0,p.I0)(),W=(0,Tt.Av)(),U=(0,Se.PM)(),N=(0,C.v9)((function(e){return e.config.authDomain})),V=(0,C.v9)((function(e){return e.navigation.currentHash})),j=(0,C.p9)((function(e){return e.config.isAmp})),M=(0,C.v9)((function(e){return e.navigation.referrer})),F=(0,Yt.P)(),H=F.inAppBrowser,Y=F.loading,G=(0,ht.Pd)(R),z=G.viewerEdge,X=G.loading,$=(0,T.gY)(c.collection),K=$.viewerEdge,J=$.loading,q=(0,gt.l)(null===(t=c.primaryTopic)||void 0===t?void 0:t.id),Q=q.viewerEdge,Z=q.loading,ee=J||X||Z,te=m.useRef(null),ne=(0,O.H)().value;j&&(ne=void 0);var re=!!ne,oe=x||{},ae=oe.id,le=oe.slug,ce=oe.googleAnalyticsId,se=S||{},ue=se.isLockedPreviewOnly,de=se.validatedShareKey,me=ce?[ce]:null;(0,h.t)({ids:me,isAmp:j}),(0,Ut.V)(te,c),(0,Nt.t)(re,te,c),(0,P.i)(c);var pe=(0,Xe.GT)(x||R),fe=b&&pe,ge=(0,Gt.D)(pe),he=(0,Fe.P7)(U||"").dimension,ve=!("digest.reader"!==(void 0===he?"":he))&&!ue&&re&&!(null!=z&&z.isUser)&&!(null!=z&&z.isFollowing)&&((null==z?void 0:z.readPostsCount)||0)>=3,Ee=m.useState(ve),be=u()(Ee,2),ye=be[0],xe=be[1];m.useEffect((function(){xe(ve)}),[]);var we=(0,k.Dj)(c,{shouldInsertCreatorPromo:ye,withCatalogsTooltip:!0}),Pe=(0,Se.Wd)("postPublishedType"),Ie=(0,ft.r)(),_e=Ie.loading,Oe=Ie.viewerId;m.useEffect((function(){if(!_e&&Oe&&!Y&&!ee){if(d){re||(c.isLocked?(0,Vt.yB)():(0,Vt.B8)());var e=(0,v.RD)({inAppBrowser:H,post:c,meteringInfo:l,referrer:M,referrerSource:U,viewer:ne,currentUserId:Oe,creatorViewerEdge:z,collectionViewerEdge:K,topicViewerEdge:Q});x&&x.domain&&(e.data.$canonical_url=(0,D.o2w)(N,c.id));var t=ne&&ne.name?(0,Ct.J)(ne.name):void 0;(0,I.KQ)({post:c},t),(0,v.Pu)(e),L((0,Mt.aj)(e)),L((0,Mt.QZ)()),function(e,t){var n;e===qe.initial&&(null!==(n=t.collection)&&void 0!==n&&n.id?(0,I.VT)(I.Vy.PostPublishedCollection):(0,I.VT)(I.Vy.PostPublished),(0,I.VT)(I.Vy.PostPublishedAggregate))}(Pe,c),W.event("post.clientViewed",{postId:s,collectionId:ae,collectionSlug:le,context:1,isFriendLink:!!de})}else W.event("post.draftViewed",{postId:s});return re||(0,ot.kD)(s),function(){L((0,Mt.Uo)())}}}),[s,d,_e,Oe,Y,H,ne,ee]),m.useEffect((function(){W.event("experiment.eligible",{experimentId:"bf31c326fe09"})}),[]),(0,Ht.T)(c.customStyleSheet);var Te=(0,Se.Wd)("readmore");m.useEffect((function(){var e;if(Te){var t=document.getElementById(Xt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[Te]);var Ce=m.useState(null==R?void 0:R.hasCompletedProfile),De=u()(Ce,2),Re=De[0],Ae=De[1],Le=(0,Wt.WI)(R).shouldShowDialog&&!Re&&(!(null!=R&&R.name)||!(null!=R&&R.bio)||!(null!=R&&R.imageId));ge!==pe&&L((0,jt.t)(pe));var Be,We,Ue=E?{className:"meteredContent"}:{};if(V){var Ne=V.split("-");Be=Ne[0],We=Ne[1]}var Ve=x&&c.customStyleSheet&&null!=c&&null!==(n=c.creator)&&void 0!==n&&null!==(r=n.customStyleSheet)&&void 0!==r&&r.blogroll?qt(qt({},c.customStyleSheet),{},{blogroll:null==c||null===(o=c.creator)||void 0===o||null===(i=o.customStyleSheet)||void 0===i?void 0:i.blogroll}):c.customStyleSheet,je=(0,C.v9)((function(e){return e.client.hydrated})),Me=((0,zt.HE)(M,U)||(0,zt.yu)(M))&&je,He=!!(0,mt.VB)({name:"enable_recirc_reboot",placeholder:!1});return m.createElement(m.Fragment,null,m.createElement(A,{post:c},m.createElement(ie,{isAmp:j,post:c}),(null===(a=ne)||void 0===a?void 0:a.id)===(null==R?void 0:R.id)?m.createElement(Et.Lv,{post:c,user:R}):m.createElement(pt.b,{name:"can_view_suspended_content",placeholder:Zt},(function(e){return e?m.createElement(Et.Lv,{post:c,user:R}):null})),m.createElement(Qe,{post:c},m.createElement(lt.f,{customStyleSheet:c.customStyleSheet},m.createElement(tn,{post:c}),m.createElement(dt.k,{post:c},m.createElement(st,{rule:Qt(c.customStyleSheet)},m.createElement(f.Am,null,m.createElement(kt,null),m.createElement(Bt.b,null),m.createElement("article",Ue,m.createElement(B.m,{post:c,meteringInfo:l}),m.createElement(vt.T,{post:c},m.createElement(nt.bl,{activeGrafId:Be,activeNoteId:We,isAuroraPostPageEnabled:pe,post:c,postBodyInserts:we,ref:te,shouldHideHighlightAnnotations:Me&&He}))),!ue&&!!d&&!fe&&m.createElement(et.PostSidebar,{customStyleSheet:Ve,post:c,ref:te,extraWide:!0}),m.createElement(pt.b,{name:"enable_recirc_reboot",placeholder:Zt},(function(e){return e&&Me?m.createElement(Ge,{postId:c.id}):null})),m.createElement(w.cu,{post:c,meteringInfo:l}),!ue&&m.createElement(rt.zX,{post:c,withCatalogsTooltip:!0})))),m.createElement(ke,{post:c}),!!d&&!ee&&m.createElement(y.T,{slimFooter:pe}))),j&&m.createElement(m.Fragment,null,m.createElement(Ft.x,{json:(0,Ft.J)({postId:s,collectionId:ae,canonicalUrl:_,referrer:M},N)}),m.createElement(g.G,{collectionGoogleAnalyticsId:ce}))),Le&&!!R&&!c.collection&&m.createElement(Wt.fY,{user:R,confirmText:"Done",setHasCompletedProfile:Ae}))}var tn=function(e){var t,n,r=e.post,o=r.collection,i=r.content,l=o||r.creator,c=(0,Xe.GT)(l),s=(0,C.p9)((function(e){return e.config.isAmp})),u=i.bodyModel&&i.bodyModel.paragraphs[0],d=u&&u.type===be.NJ.IMG&&u.layout===be.ms.FULL_WIDTH;if(l&&c)return m.createElement(de.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(it.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(at.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:l}));var p={behavior:x.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(o)return m.createElement(E.NL,a()({},p,{collection:o}));var f=r.layerCake,g=r.primaryTopic,h=f&&(1===f||2===f||3===f),v=h?g:null;return m.createElement(S.kw,a()({},p,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:v}))},nn=(0,d.Ps)(Kt(),W.X,w.Y6,v.PI),rn=(0,d.Ps)($t(),P.a,E.JE,lt.w,nt.Uw,vt.Q,L,S.v7,it.aU,it.Mv,et.PostSidebar_customStyleSheet,w.rU,k.Cs,rt.F9,W.Z,ae,Be,Nt.W,Ze,Ut.k,et.PostSidebar_post,ut._3,Et.QX,Et.v,Wt.xe,Xe.C5,v.ir,I.ne,tt.tA,b.Dc)},97963:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(67294),o=n(34019),i=function(e){var t=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(t){null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,o.r)("medium.getCustomStyleSheet",t)}},34019:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(67294),o=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,o;try{o=JSON.parse(n.data)}catch(e){}(null===(r=o)||void 0===r?void 0:r.context)===e&&t(o)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9264.1aca712e.chunk.js.map