(self.webpackChunklite=self.webpackChunklite||[]).push([[7515],{33336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),i=r.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const l=function(e){return r.createElement("svg",o({width:21,height:21},e),a,i)}},42440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),r.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const i=function(e){return r.createElement("svg",o({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},94093:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var r,o=n(59713),a=n.n(o),i=n(67294);!function(e){e.S="S",e.L="L"}(r||(r={}));var l=n(42933),c=n(98024),s=n(6688),u=n(80637),m=n(67122),d=function(e){var t=e.children,n=e.scale,o=void 0===n?r.L:n,d=e.alpha,p=void 0===d?.05:d,f=e.verticalMargins,g=void 0===f?{normal:"24px",small:"24px"}:f,v=(0,s.I)();return i.createElement("div",{className:v((function(e){return a()({background:(0,m.Uy)(p),borderRadius:"4px",margin:"".concat(g.normal," -16px"),position:"relative"},u.sm(e),{margin:"".concat(g.small," -12px 0")})}))},i.createElement(l.x,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:"16px",sm:{padding:"12px"}},i.createElement(c.F,{scale:o,color:"DARKER"},t)))}},88096:(e,t,n)=>{"use strict";n.d(t,{B:()=>p});var r=n(67294),o=n(51562),a=n(76532),i=n(42933),l=n(75209),c=n(55099),s=n(98024),u=n(67297),m=n(95614),d=n(27952),p=function(e){var t,n,p,f=e.optimizelyFeature,g=e.backgroundColor,v=e.margin,E=e.padding,h=(t=(0,u.v9)((function(e){return e.config.authDomain})),n=(0,m.T)(),p=!!(0,a.H)().value,n?{buttonHref:"https://rsci.app.link/?$canonical_url=".concat(encodeURIComponent((0,d.Zp)(t))),buttonText:"Write with the app",target:"mobile",text:"Post a quick thought or a long story.\nIt's easy and free."}:p?{buttonHref:(0,d.Zp)(t),buttonText:"Write on Medium",target:"li",text:"Post a quick thought or a long story. It's easy and free."}:{buttonHref:(0,d.Zp)(t),buttonText:"Write on Medium",target:"lo",text:"Post a quick thought or a long story. It's easy and free."});return r.createElement(o.W,{featureString:f,target:"unit-".concat(h.target)},r.createElement(i.x,{textAlign:"center",padding:E||"16px",margin:v,backgroundColor:g||"NONE",borderRadius:"4px"},r.createElement(l.P,{size:"full"},r.createElement(o.W,{featureString:f,target:"text-".concat(h.target),tag:"span"},r.createElement(i.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},whiteSpace:{xs:"pre-line",sm:"pre-line",md:"normal",lg:"normal",xl:"normal"}},r.createElement(s.F,{scale:"L",color:"DARKER"},h.text))),r.createElement(o.W,{featureString:f,target:"link-".concat(h.target),tag:"span"},r.createElement(i.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},margin:{xs:"10px 0 0 0",sm:"10px 0 0 0",md:"0 0 0 12px",lg:"0 0 0 12px",xl:"0 0 0 12px"}},r.createElement(c.z,{href:h.buttonHref,buttonStyle:"BRAND"},h.buttonText))))))}},68127:(e,t,n)=>{"use strict";n.d(t,{X:()=>C,c:()=>T});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),l=n(71439),c=n(67294),s=n(12291),u=n(47875),m=n(65340),d=n(86948),p=n(21356),f=n(65922),g=n(98462),v=n(79296),E=n(42933),h=n(53910),x=n(89375),y=n(82318),b=n(80908),P=n(98024),S=n(15699),w=n(36891),_=n(27952);function I(){var e=i()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var C=(0,l.Ps)(I(),u.H,S.h,d.z,p.x,m.D),L=function(e){var t=e.height,n=e.width;return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}},k={height:"100%",position:"absolute",width:"100%"},O=function(e){var t=e.title,n=e.url;return c.createElement(g.P,{href:n},c.createElement(b.Dx,{scale:"S",tag:"h3"},t))},T=(0,s.$j)((function(e){return{productName:e.config.productName}}))((function(e){var t,n,r=e.post,a=e.productName,i=e.target,l=c.useState(!1),s=o()(l,2),m=s[0],g=s[1],b=c.useCallback((function(e){!m&&e.isIntersecting&&g(!0)}),[m]);if((0,w.S)({onIntersect:b,target:i,disconnect:function(){return m},rootMargin:"100px"},[m]),"SuggestedPost"===r.__typename?(t=function(e,t){var n,r,o,a;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return a=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(a);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(r.postSuggestionReasons,a),n=r.post):n=r,!n)return null;var I,C,T,R,A,B,M,D=(I={id:(n.previewImage?n.previewImage.id:"")||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:n.previewImage?n.previewImage.focusPercentX:null,focusPercentY:n.previewImage?n.previewImage.focusPercentY:null},R=I.width,A=I.height,B=I.focusPercentX,M=I.focusPercentY,(T=I.id)?(C="number"==typeof B&&"number"==typeof M?[B,M]:[50,50],c.createElement(v.h,null,(function(e){return c.createElement("div",{className:e(L({height:A,width:R}))},c.createElement("div",{className:e(k)},c.createElement(f.B,{miroId:T,imgHeight:A,imgWidth:R,width:"100%",height:"100%",freezeGifs:!1,focusPercent:C})))}))):null);return c.createElement(S.o,{post:n,presentationContext:"PLACEMENT"},c.createElement(E.x,{md:{marginBottom:"48px"}},c.createElement(h.T,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},c.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},t&&c.createElement(E.x,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},c.createElement(P.F,{scale:"M",tag:"h4"},t)),D&&c.createElement(E.x,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},c.createElement(y.r,{display:"block",href:(0,_.jVf)(n)},m?D:null))),c.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},c.createElement(E.x,{marginBottom:"16px"},t&&c.createElement(E.x,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},c.createElement(P.F,{scale:"M",tag:"h4"},t)),c.createElement(O,{title:n.title?n.title:"",url:(0,_.jVf)(n)})),c.createElement(E.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},c.createElement(E.x,{flexShrink:"1",marginRight:"10px"},c.createElement(u.G,{post:n,showBio:!1,scale:"S",showStar:!!n.isLocked,hideAvatar:!m})),c.createElement(E.x,{display:"flex",alignItems:"center"},c.createElement(p.S,{post:n,buttonStyle:"SUBTLE",susiEntry:"clap_preview"}),c.createElement(E.x,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),c.createElement(d.e,{post:n,susiEntry:"bookmark_preview"})))))))}))},47875:(e,t,n)=>{"use strict";n.d(t,{H:()=>U,G:()=>H});var r=n(28655),o=n.n(r),a=n(34575),i=n.n(a),l=n(93913),c=n.n(l),s=n(2205),u=n.n(s),m=n(78585),d=n.n(m),p=n(29754),f=n.n(p),g=n(59713),v=n.n(g),E=n(71439),h=n(67294),x=n(12291),y=n(95482),b=n(9292),P=n(98281),S=n(16831),w=n(31001),_=n(79296),I=n(41707),C=n(82318),L=n(42933),k=n(98024),O=n(80637),T=n(7650),R=n(42440),A=n(27390),B=n(27952),M=n(61598);function D(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    collection {\n      name\n      id\n      ...collectionUrl_collection\n    }\n    creator {\n      id\n      name\n      username\n      bio\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...userUrl_user\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return D=function(){return e},e}var N={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},F=function(e,t){return v()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},O.xs(t),{marginBottom:"0px"})},j=function(e){u()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f()(t);if(n){var o=f()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return d()(this,e)});function o(){return i()(this,o),r.apply(this,arguments)}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.authDomain,n=e.currentLocation,r=e.post,o=e.showBio,a=e.scale,i=void 0===a?"M":a,l=e.detailScale,c=void 0===l?"M":l,s=e.showStar,u=void 0===s?r.isLocked:s,m=e.hideCollection,d=void 0!==m&&m,p=e.hideAvatar,f=void 0!==p&&p,g=e.hideDescription,v=void 0!==g&&g,E=e.noClamp,x=void 0!==E&&E,S=r.id,O=r.creator,M=r.collection,D=r.statusForCollection,j=r.visibility,U=r.isPublished,H=N[i];if(!r||!S||!O)return null;var z=r.firstPublishedAt,W=O.username,V=O.name;if(!V||!W)return null;var G=h.createElement(P.Yt,{user:O,scale:H.avatarScale,link:!0}),X=o?h.createElement("div",null,O.bio):null,K="APPROVED"===D,$=H.showFollowButton?h.createElement(L.x,{marginLeft:"8px",xs:{display:"none"},flexShrink:"0"},h.createElement(w.Bv,{user:O,buttonSize:"COMPACT",susiEntry:"follow_byline"})):null,Y=h.createElement(_.h,null,(function(e){return h.createElement(I.Z,null,(function(r){return h.createElement("div",{className:e(F(H.showFollowButton,r))},h.createElement(k.F,{scale:c,tag:"span",color:"DARKER",clamp:x?void 0:1},h.createElement(C.r,{href:(0,B.AWr)(O,t),inline:!0},V),M&&K&&!d?h.createElement("span",null," ","in"," ",h.createElement(C.r,{href:(0,B.WGd)(M,n,t),inline:!0},M.name)):null),$)}))})),Z=h.createElement(k.F,{scale:c,tag:"span",clamp:1},X,h.createElement("div",null,U?h.createElement(C.r,{href:(0,B.jVf)(r),inline:!0},z&&h.createElement(y.E,{timestamp:z})):h.createElement("span",null,"Draft")," ","·"," ","UNLISTED"===j?h.createElement(k.F,{scale:"S",tag:"span"},h.createElement(R.Z,null)," Unlisted"):h.createElement(h.Fragment,null,(0,A.Vd)(r.readingTime||0)," min read"),u&&h.createElement("span",{style:{paddingLeft:"4px"}},h.createElement(T.Z,{style:{marginTop:"-2px"}}))));return h.createElement(b.Y,{avatar:!f&&G,title:Y,description:!v&&Z})}}]),o}(h.Component),U=(0,E.Ps)(D(),B.nfI,S.W,w.sj,M.$),H=(0,x.$j)((function(e){return{currentLocation:e.navigation.currentLocation,authDomain:e.config.authDomain}}))(j)},55253:(e,t,n)=>{"use strict";n.d(t,{m:()=>Ne});var r=n(67294),o=n(28655),a=n.n(o),i=n(63038),l=n.n(i),c=n(59713),s=n.n(c),u=n(71439),m=n(42933),d=n(98024),p=n(6688),f=n(99701),g={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},v={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},E=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},h=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function x(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}var y=function(e){var t=e.duration,n=e.elapsed,o=e.isProgressBeanVisible,a=e.onEnter,i=e.onLeave,l=e.onProgressBeanAnimationEnd,c=e.onTimeUpdate,s=e.shouldProgressBeanAnimate,u=(0,p.I)(),y=(0,f.o)({fadeInKeyframesName:g,fadeOutKeyframesName:v}),b=y.fadeInKeyframesName,P=y.fadeOutKeyframesName,S=r.useRef(null),w=n&&t?Math.max(0,Math.min(n/t*100,100)):0,_={left:"".concat(w,"%"),opacity:o?1:0},I=r.useCallback((function(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}),[t]),C=r.useCallback((function(e){function t(e){c(I(e))}0===e.button&&(c(I(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})))}),[I,i,c]),L=r.useCallback((function(e){"ArrowLeft"===e.key?c(Math.max(n-5,0)):"ArrowRight"===e.key&&c(Math.min(n+5,t))}),[n,t,c]),k=r.useCallback((function(){document.activeElement!==S.current&&i()}),[null==S?void 0:S.current,i]),O=[h,_];return s&&O.push({animation:"".concat(o?b:P," .2s ease-in-out forwards")}),r.createElement(m.x,{display:"flex",alignItems:"center"},r.createElement(m.x,{width:"28px",marginRight:"12px",textAlign:"left"},r.createElement(d.F,{scale:"M"},n?x(n):"--:--")),r.createElement("div",{className:u([E,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(w,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:S,"aria-valuemin":0,"aria-valuemax":t,"aria-valuenow":n,tabIndex:0,onMouseDown:C,onFocus:a,onBlur:k,onKeyDown:L,onMouseEnter:a,onMouseLeave:k},r.createElement("div",{className:u(O),onAnimationEnd:l})),r.createElement(m.x,{width:"28px",marginLeft:"12px",textAlign:"right"},r.createElement(d.F,{scale:"M"},t?x(t):"--:--")))},b=n(95760);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=r.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},r.createElement("rect",{width:6,height:17,rx:2}),r.createElement("rect",{x:9,width:6,height:17,rx:2}));const w=function(e){return r.createElement("svg",P({width:25,height:25},e),S)};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=r.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const C=function(e){return r.createElement("svg",_({width:25,height:25},e),I)};var L=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},k=function(e){var t=e.dispatch,n=e.postId,o=e.isPlaying,a=(0,p.I)(),i=(0,b.Av)(),l=r.useCallback((function(){var e=document.getElementById("audio-player");o?(i.event("audio.end",{postId:n}),e.pause(),t({type:"pause"})):(i.event("audio.start",{postId:n}),e.play(),t({type:"play"}))}),[o]);return r.createElement("button",{onClick:l,className:a(L)},o?r.createElement(w,null):r.createElement(C,null))},O=n(89423),T=n(62876),R=n(54389),A=n(51512),B=n(96907),M=n(33336);function D(){var e=a()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return D=function(){return e},e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={duration:0,elapsed:0,playing:!1},U=function(e,t){switch(t.type){case"load":return F(F({},e),{},{duration:t.duration});case"play":return F(F({},e),{},{playing:!0});case"pause":return F(F({},e),{},{playing:!1});case"seek":return F(F({},e),{},{elapsed:t.clickedTime});case"progress":return F(F({},e),{},{elapsed:t.elapsed});case"end":return F(F({},e),{},{playing:!1});default:return e}},H=function(e){var t=e.postId,n=e.audioVersionUrl,o=r.useReducer(U,j),a=l()(o,2),i=a[0],c=a[1],s=i.duration,u=i.elapsed,p=i.playing,f=r.useState(!1),g=l()(f,2),v=g[0],E=g[1],h=r.useState(!1),x=l()(h,2),b=x[0],P=x[1],S=r.useCallback((function(){E((function(e){return P(!!e),!1}))}),[]),w=r.useCallback((function(){E((function(e){return P(!e),!0}))}),[]);return r.useEffect((function(){var e=document.getElementById("audio-player");function t(){c({type:"load",duration:e.duration})}function n(){c({type:"progress",elapsed:e.currentTime})}function r(){c({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),r.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]),r.createElement(m.x,{display:"flex",justifyContent:"center",margin:"20px 0"},r.createElement("audio",{id:"audio-player"},r.createElement("source",{src:n})),r.createElement(m.x,{display:"flex",alignItems:"center",flexGrow:"1"},r.createElement(m.x,{marginRight:"16px"},r.createElement(k,{dispatch:c,postId:t,isPlaying:p})),r.createElement(m.x,{display:"flex",flexDirection:"column",flexGrow:"1"},r.createElement(d.F,{scale:"M",color:"DARKER"},"Listen to this story"),r.createElement(y,{elapsed:u,duration:s,isProgressBeanVisible:v,onEnter:w,onLeave:S,onProgressBeanAnimationEnd:function(){return P(!1)},onTimeUpdate:function(e){return c({type:"seek",clickedTime:Math.max(0,Math.min(e,s))})},shouldProgressBeanAnimate:b}))))},z=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},W=function(e){var t=e.post,n=(0,p.I)();return r.createElement(R.M,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},r.createElement(M.Z,{className:n(z)}),r.createElement(d.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... there’s an audio version of this story."," ",r.createElement(T.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function V(e){var t=e.post,n=t.id,o=t.audioVersionUrl,a=(t.content||{}).isLockedPreviewOnly;return r.createElement(m.x,{marginTop:"30px"},r.createElement(O.I,null,(function(e){return e&&e.mediumMemberAt||!a?r.createElement(H,{postId:n,audioVersionUrl:o}):r.createElement(A.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},r.createElement(B.M,null,r.createElement(W,{post:t})))})))}(0,u.Ps)(D(),T.H);var G=n(50008),X=n.n(G),K=n(12291),$=n(23450),Y=n.n($),Z=n(94093),q=n(51562),Q=function(e){var t=e.featureString,n=e.link,o=e.text,a=e.showTrialMeter;return r.createElement(q.W,{featureString:t,target:a?"cc-trial-highlight-box":"highlight-box"},r.createElement(Z.I,null,r.createElement(q.W,{featureString:t,target:a?"cc-trial-copy":"copy",tag:"span"},o," "),r.createElement(m.x,{display:"inline",whiteSpace:"nowrap"},r.createElement(q.W,{featureString:t,target:a?"cc-trial-link":"link",tag:"span"},n))))},J=n(66893),ee=n(76532),te=n(5731),ne=n(67297),re=n(27952);function oe(){var e=a()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return oe=function(){return e},e}var ae=function(e){var t=e.meterCount,n=e.meterLimit,o=e.post,a=(0,ee.H)().value,i=(0,b.Av)(),l=null==a?void 0:a.isMembershipTrialEligible,c=!(!(0,J.P5)("enable_trial_upsell")||!l),s="li-highlight-meter-".concat(t);r.useEffect((function(){i.event("meter.viewed",{uiType:te.j.LIHighlightCTA,postId:o.id,meterCount:t,userId:null==a?void 0:a.id}),l&&i.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u,m=(0,ne.v9)((function(e){return e.config.authDomain})),d=r.createElement(B.M,{tag:"span"},r.createElement(T.a,{linkStyle:"OBVIOUS",post:o,inline:!0,redirectUrl:(0,re.c5p)(m)},c?"Start your free trial":"Upgrade for unlimited access."));return r.createElement(A.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:o.id}},r.createElement(Q,{featureString:s,text:(u=n-t,u<=0?r.createElement(r.Fragment,null,"This is your ",r.createElement("b",null,"last")," free member-only story this month."):r.createElement(r.Fragment,null,"You have ",r.createElement("b",null,u)," free member-only ",Y()("story",u)," left this month.")),link:d,showTrialMeter:c}))},ie=(0,u.Ps)(oe(),T.H),le=n(62181);function ce(){var e=a()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return ce=function(){return e},e}var se=function(e){switch(e){case 1:return r.createElement(r.Fragment,null,"You have ",r.createElement("b",null,"2")," free member-only stories left this month.");case 2:return r.createElement(r.Fragment,null,"You have ",r.createElement("b",null,"1")," free member-only story left this month.");case 3:return r.createElement(r.Fragment,null,"This is your ",r.createElement("b",null,"last")," free member-only story this month.");default:return r.createElement(r.Fragment,null,"You've read all your free member-only stories this month.")}},ue=function(e){var t=e.meterCount,n=e.post,o=(0,ne.v9)((function(e){return e.config.productName})),a=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(t),i=(0,b.Av)(),l="lo-highlight-meter-".concat(t);r.useEffect((function(){i.event("meter.viewed",{uiType:te.j.LOHighlightCTA,postId:n.id,meterCount:t})}),[]);var c=r.createElement(le.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:a},"Sign up for ".concat(o," and get an extra one"));return r.createElement(A.cW,{source:{postId:n.id}},r.createElement(Q,{featureString:l,text:se(t),link:c,showTrialMeter:!1}))},me=(0,u.Ps)(ce()),de=n(49544),pe=n(7785),fe=n(11348),ge=n(31235),ve=n(172);function Ee(){var e=a()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return Ee=function(){return e},e}function he(){var e=a()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return he=function(){return e},e}var xe=function(e){var t=e.meteringInfo,n=e.post,o=e.viewer,a=r.useState(!1),i=l()(a,2),c=i[0],s=i[1],u=t.maxUnlockCount||3,m=t.postIds.length;return m<=u?(0,fe.sy)()&&(0,de.Dk)(o)?((0,fe.Of)(),null):(c||s(!0),r.createElement(ae,{meterCount:m,post:n,meterLimit:u})):null},ye=function(e){var t=e.meterCount,n=e.post,o=r.useState(!1),a=l()(o,2),i=a[0],c=a[1];switch(t){case 1:case 2:case 3:return i||c(!0),r.createElement(ue,{meterCount:t,post:n});default:return null}},be=function(e){var t=e.meteringInfo,n=e.post,o=(0,K.I0)(),a=(0,p.I)(),i=(0,ge.xg)(),c=r.useState(!1),s=l()(c,2),u=s[0],m=s[1];r.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":X()(document))&&m(!0),o((0,ve.Dl)(!1))}),[]);var d=(0,ee.H)(),f=d.loading,g=d.error,v=d.value;if(f||g)return r.createElement(r.Fragment,null);var E=v&&v.mediumMemberAt||void 0,h=n&&n.creator&&n.creator.id||void 0,x=v&&v.id||void 0,y=v?E||h===x:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,b=!u||!n.isLocked||!t.postIds.includes(n.id)||y,P=u&&!b,S={height:P?"80px":"0px",overflow:P?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},w=v?r.createElement(xe,{meteringInfo:t,post:n,viewer:v}):r.createElement(ye,{meterCount:t.postIds.length,post:n});return r.createElement("div",{className:i?a(S):void 0},!b&&w)},Pe=((0,u.Ps)(he(),ie,me,pe.qt),(0,u.Ps)(Ee()),n(82318));function Se(){var e=a()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return Se=function(){return e},e}(0,u.Ps)(Se());var we=function(e){var t=e.collection,n=(0,ne.v9)((function(e){return e.config.authDomain})),o=t.newsletterV3||{id:"",slug:"",name:""},a=(0,re.iBn)(o.slug,n,t),i=function(){return r.createElement(Pe.r,{inline:!0,linkStyle:"OBVIOUS",href:a},o.name)};return r.createElement(r.Fragment,null,r.createElement(Z.I,null,t.newsletterV3?r.createElement(r.Fragment,null,"This is an email from ",r.createElement(i,null),", a newsletter by ",t.name,"."):r.createElement(r.Fragment,null,"This is an email from ",t.name,".")))},_e=n(46829),Ie=n(5977),Ce=n(3149),Le=n(51064),ke=function(e){var t=e.children,n=e.onHide,o=void 0===n?function(){}:n,a=(0,Le.O)(!0),i=l()(a,3),c=i[0],s=i[2],u=r.useCallback((function(){s(),o()}),[o]);return c?r.createElement(m.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(d.F,{scale:"L",color:"DARKER"},t),r.createElement(Ce.P,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},Oe=n(8403),Te=n(11642);function Re(){var e=a()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return Re=function(){return e},e}function Ae(){var e=a()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return Ae=function(){return e},e}var Be=function(e){var t,n,o,a,i,c=e.post,s=(0,ne.v9)((function(e){return e.navigation.referrer})),u=(0,Ie.TH)().hash,d=(0,Oe.G1)(),p=(0,Oe.PM)(),f=(0,_e.useLazyQuery)(Me,{variables:{postId:null==c?void 0:c.id,postMeteringOptions:{referrer:s,sk:d,source:p}},ssr:!1}),g=l()(f,2),v=g[0],E=g[1],h=E.called,x=E.loading,y=E.error,b=E.data,P=null==u||null===(t=u.replace("#",""))||void 0===t?void 0:t.split("-"),S=l()(P,2),w=S[0],_=S[1],I=(null!=b?b:{}).post,C=null==I||null===(n=I.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===_})),L=null!==(o=null==I||null===(a=I.content)||void 0===a||null===(i=a.bodyModel)||void 0===i?void 0:i.paragraphs)&&void 0!==o?o:[],k=new Set(L.map((function(e){return e.name})).filter(Te.b)),O=!!C&&k.has(w),T=(0,Le.O)(!!_&&!O),R=l()(T,3),A=R[0],B=R[1],M=R[2];return r.useEffect((function(){_&&!O?B():M()}),[O]),!h&&_&&v(),x||y||!A?null:r.createElement(m.x,{marginTop:"64px"},r.createElement(ke,{onHide:M},"The note you're looking for was deleted"))},Me=((0,u.Ps)(Ae()),(0,u.Ps)(Re())),De=n(68387),Ne=function(e){var t=e.meteringInfo,n=e.post,o=(0,ne.p9)((function(e){return e.config.isAmp}));return r.createElement(R.M,{columns:8},r.createElement(Be,{post:n}),n.isNewsletter&&!!n.collection&&r.createElement(we,{collection:n.collection}),!n.collection&&n.creator&&!n.isLocked&&r.createElement(A.cW,{source:{name:De.Qw,postId:n.id}},r.createElement(De.Qj,{creator:n.creator,position:"top"})),!!n.isLocked&&!!t&&r.createElement(be,{meteringInfo:t,post:n}),n.audioVersionUrl&&!o&&r.createElement(V,{post:n}))}},56164:(e,t,n)=>{"use strict";n.d(t,{h:()=>C,Y:()=>L});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),l=n(71439),c=n(67294),s=n(11334),u=n(88096),m=n(54741),d=n(31479),p=n(11389),f=n(50077),g=n(53976),v=n(51512),E=n(36891),h=n(27108);function x(){var e=i()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return x=function(){return e},e}function y(){var e=i()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function b(){var e=i()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function P(){var e=i()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...TruncatedPostCard_post\n        ...ExpandablePost_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}var S=(0,l.Ps)(P(),s.Dn,f.Gk,d.ExpandablePost_post),w=(0,l.Ps)(b(),S),_=(0,l.Ps)(y(),S),I=function(e){var t,n,r,a=e.post,i=e.rootMargin,l=e.target,d=(0,g.VB)({name:"enable_inline_expansion",placeholder:!1}),f=!!(0,g.VB)({name:"enable_post_page_write_cta",placeholder:!1}),h=(null===(t=a.collection)||void 0===t?void 0:t.id)||"",x=(null===(n=a.creator)||void 0===n?void 0:n.id)||"",y=h||x,b=function(e){var t=e.firstPublishedAt,n=e.pinnedAt;return e.collection?n?"P".concat(n):"L".concat(t):"".concat(t)}(a),P=h?w:_,S={id:y,from:b},I=(0,m.N)(P,{variables:S}),C=o()(I,2),L=C[0],k=C[1],O=k.called,T=k.loading,R=k.error,A=k.data,B=(A=void 0===A?{publisher:void 0}:A).publisher;if((0,E.S)({onIntersect:L,target:l,disconnect:function(){return O},rootMargin:i},[O]),!O||T||R||!B)return null;var M=null==B||null===(r=B.homepagePostsConnection)||void 0===r?void 0:r.posts;if(!B||!M)return null;var D="Collection"===B.__typename,N=f&&M.length>=2;return c.createElement(c.Fragment,null,M.map((function(e,t){var n={publisher:B,post:e,hideAuthor:!D,isFirst:0===t,includeBottomDivider:N&&0===t||t===M.length-1,index:t,excludeMargin:N&&1===t},r=N&&1===t?c.createElement(v.cW,{source:{name:"post-page-footer-cta-write"}},c.createElement(u.B,{optimizelyFeature:"post-start-writing",padding:"20px"})):c.createElement(c.Fragment,null),o=d?c.createElement(p.o,n):c.createElement(s.Xc,n);return c.createElement("span",{key:e.id},r,o)})))},C=function(e){var t=e.post,n=e.rootMargin,r=e.target,a=c.useState(!1),i=o()(a,2),l=i[0],s=i[1];return l||h.V6.on("load",(function(){return s(!0)})),l?c.createElement(I,{post:t,target:r,rootMargin:n}):null},L=(0,l.Ps)(x())},65340:(e,t,n)=>{"use strict";n.d(t,{D:()=>y,d:()=>b});var r=n(67154),o=n.n(r),a=n(28655),i=n.n(a),l=n(71439),c=n(67294),s=n(12291),u=n(47875),m=n(61889),d=n(42933),p=n(98462),f=n(82318),g=n(37278),v=n(15699),E=n(90038),h=n(27952);function x(){var e=i()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return x=function(){return e},e}var y=(0,l.Ps)(x(),u.H,v.h),b=(0,s.$j)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var t,n=e.post,r=e.defaultImages,a="SuggestedPost"===n.__typename?null==n?void 0:n.post:n;if(!a)return null;var i,l,s,x,y=a.title,b=a.previewImage,P=null==r||null===(t=r.postPreviewImage)||void 0===t?void 0:t.imageId,S=(s=(i={id:(null==b?void 0:b.id)||P,focusPercentX:null==b?void 0:b.focusPercentX,focusPercentY:null==b?void 0:b.focusPercentY}).focusPercentX,x=i.focusPercentY,(l=i.id)?c.createElement(m.F,{miroId:l,freezeGifs:!1,focusPercentX:s,focusPercentY:x,strategy:E._S.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return c.createElement(v.o,{post:a,presentationContext:"PLACEMENT"},c.createElement(d.x,{display:"flex",justifyContent:"space-between"},c.createElement(d.x,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},c.createElement(d.x,{paddingBottom:"8px"},c.createElement(g.X6,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},c.createElement(p.P,{href:(0,h.jVf)(a)},y))),c.createElement(u.G,{post:a,showBio:!1,scale:"S",detailScale:"S",showStar:!!a.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0})),S&&c.createElement(d.x,o()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),c.createElement(f.r,{display:"block",href:(0,h.jVf)(a)},S))))}))},54741:(e,t,n)=>{"use strict";n.d(t,{y:()=>f,N:()=>g});var r=n(63038),o=n.n(r),a=n(46829),i=n(67294),l=n(68127),c=n(42933),s=n(53910),u=n(89375),m=n(37278),d=n(95760),p=n(51512);function f(e){var t=e.posts,n=e.sourceName,r=i.useRef(null),o=(0,d.Av)();return i.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===t.length?null:i.createElement(c.x,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},i.createElement(c.x,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},i.createElement(m.X6,{scale:"S"},"More From Medium")),i.createElement(s.T,{alignItems:"flex-start"},t.map((function(e,t){return i.createElement(u.P,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},i.createElement(p.cW,{source:{name:n,index:t}},i.createElement(l.c,{post:e,target:r})))}))))}function g(e,t){var n=(0,a.useLazyQuery)(e,t),r=o()(n,2),l=r[0],c=r[1];return[i.useCallback((function(e){!c.called&&e.isIntersecting&&l()}),[c]),c]}},47713:(e,t,n)=>{"use strict";n.d(t,{o:()=>p});var r=n(67294),o=n(46101),a=n(86948),i=n(76532),l=n(62181),c=n(6688),s=n(14391),u=n(67297),m=n(353),d=n(27952),p=function(e){var t=e.post,n=e.susiEntry,p=e.withCatalogsTooltip,f=void 0!==p&&p,g=t.id,v=t.visibility,E=(0,c.I)(),h=(0,u.v9)((function(e){return e.config.authDomain})),x=(0,i.H)(),y=x.value;return x.loading||v===s.Wn.UNLISTED?null:y?r.createElement(a.e,{post:t,susiEntry:n,withCatalogsTooltip:f}):r.createElement(l.R9,{post:t,operation:"register",actionUrl:(0,d.XET)(h,g),susiEntry:n},r.createElement(m.Z,{className:E(o.K)}))}},82423:(e,t,n)=>{"use strict";n.d(t,{F:()=>I,R:()=>C});var r=n(28655),o=n.n(r),a=n(63038),i=n.n(a),l=n(71439),c=n(67294),s=n(86948),u=n(47713),m=n(7883),d=n(64578),p=n(1506),f=n(74871),g=n(21356),v=n(71542),E=n(33819),h=n(72393),x=n(14071),y=n(62181),b=n(85677),P=n(42933),S=n(51512),w=n(51064);function _(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    isShortform\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...SharePostButtons_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var I=function(e){var t,n=e.post,r=e.useSocialPopover,o=e.shouldHideClapsText,a=void 0!==o&&o,l=e.withCatalogsTooltip,s=void 0!==l&&l,p=c.useContext(h.f).openSidebar,f=n.isPublished,y=n.creator,_=n.collection,I="clap_footer",C={post:n,source:{name:"post_actions_footer"}},L=(0,w.O)(!1),k=i()(L,2),O=k[0],T=k[1],R=(null==n||null===(t=n.postResponses)||void 0===t?void 0:t.count)||null;return c.createElement(c.Fragment,null,O&&c.createElement(b.T,null),c.createElement(P.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},c.createElement(S.cW,{source:{name:"post_actions_footer"}},c.createElement(P.x,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(P.x,{maxWidth:"155px"},c.createElement(v.e,null,c.createElement(g.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:a,susiEntry:I})),c.createElement(v.s,null,c.createElement(g.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldHideClapsText:a,susiEntry:I}))),c.createElement(S.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},c.createElement(P.x,{marginLeft:"24px"},c.createElement(E.h,{trackingData:{postId:n.id},responsesCount:R,allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,handleClick:p||function(){},responsesCountColor:"DARKER",iconStylesOverride:{marginTop:"4px"},countStylesOverride:{marginLeft:"4px",marginTop:"5px"}}))))),c.createElement(P.x,{display:"flex",alignItems:"center"},f&&c.createElement(c.Fragment,null,r?c.createElement(P.x,{paddingRight:"8px"},c.createElement(d.$,C)):c.createElement(x.U,C),c.createElement(P.x,{flexGrow:"0",paddingRight:"8px"},c.createElement(S.cW,{source:{name:"post_actions_footer"}},c.createElement(u.o,{post:n,susiEntry:"bookmark_footer",withCatalogsTooltip:s&&!n.collection&&n.isShortform})))),n&&y&&c.createElement(m.Z,{creator:y,post:n,collection:_,showLoadingIndicator:T,isDismissDisabled:!0}))))},C=(0,l.Ps)(_(),s.z,g.x,y.qU,f.En,p.x7,x.E,m.G,d.u)},92650:(e,t,n)=>{"use strict";n.d(t,{m:()=>A,a:()=>B});var r=n(28655),o=n.n(r),a=n(67154),i=n.n(a),l=n(63038),c=n.n(l),s=n(71439),u=n(67294),m=n(84783),d=n(88703),p=n(49925),f=n(53976),g=n(76532),v=n(32589),E=n(31001),h=n(77648),x=n(93258),y=n(42933),b=n(75209),P=n(82318),S=n(86021),w=n(37278),_=n(98024),I=n(77180),C=n(27108),L=n(67297),k=n(27952),O=n(61598);function T(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}var R="follow_footer",A=function(e){var t=e.post,n=e.maxWidthSize,r=void 0===n?"inset":n,o=t.creator,a=t.collection,l=(0,L.v9)((function(e){return e.config.authDomain})),s=(0,L.v9)((function(e){return e.navigation.currentLocation})),O=(0,g.H)().value,T=!!(0,f.VB)({name:"enable_subscription_promos_for_all_users",placeholder:!1}),A=(0,I.F)(),B=(0,d.gZ)(t).value,M=!!T||!B,D=(0,v.Pd)(o).viewerEdge,N=!!(0,f.VB)({name:"enable_lite_subscribe_to_writer_cta",placeholder:!1}),F=!!(0,f.VB)({name:"enable_writer_subscription_to_all_users",placeholder:!1}),j=u.useState(0),U=c()(j,2),H=U[0],z=U[1],W=H<=A.breakpoints.sm,V=W&&N?2:1,G=function(){z(window.innerWidth)};u.useEffect((function(){return G(),C.V6.on("resize",G),function(){return C.V6.off("resize",G)}}),[]);var X="REGULAR",K={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},$=(null==O?void 0:O.id)===(null==o?void 0:o.id)||W&&N?void 0:"168px",Y={display:"flex",justifyContent:"space-between",alignItems:"center"},Z=(0,p.KW)(t.creator),q=a?(0,k.WGd)(a,s,l):o?(0,k.AWr)(o,l):"",Q="More from ".concat(a?a.name:null==o?void 0:o.name),J=a?a.description:null==o?void 0:o.bio,ee=null;o&&(O&&null!=D&&D.isBlocking?ee=u.createElement(x.d,{buttonSize:X,targetUserId:o.id}):M&&(ee=u.createElement(y.x,{display:"flex"},u.createElement(E.Bv,{buttonSize:X,post:t,user:o,susiEntry:R}),N&&(o.newsletterV3||F)&&u.createElement(y.x,{marginLeft:"8px"},u.createElement(h.X,{user:o})))));var te=a?u.createElement(m.Fp,{buttonSize:X,collection:a,post:t,susiEntry:R}):ee;return u.createElement(y.x,{print:{display:"none"}},(null==o?void 0:o.name)&&(null==o?void 0:o.username)&&!Z&&u.createElement(y.x,{paddingBottom:"30px"},u.createElement(b.P,{size:r},u.createElement(y.x,i()({},Y,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),u.createElement(y.x,null,u.createElement(S.Lh,{scale:"S"},"Written by"),u.createElement(w.X6,{scale:K,clamp:V},u.createElement(P.r,{href:(0,k.AWr)(o,l)},o.name||o.username))),ee),o.bio&&u.createElement(y.x,{paddingTop:"6px",paddingRight:$},u.createElement(_.F,{scale:"M"},o.bio)))),(a||Z)&&u.createElement(y.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},u.createElement(b.P,{size:r},u.createElement(y.x,Y,u.createElement(w.X6,{scale:K,clamp:V},u.createElement(P.r,{href:q},Q)),te),J&&u.createElement(y.x,{paddingTop:"5px",paddingRight:$},u.createElement(_.F,{scale:"M"},J)))))},B=(0,s.Ps)(T(),m.Iq,m.b3,k.nfI,E.S$,E.sj,p.C5,O.$,d.b0,h.w)},68171:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,R:()=>p});var r=n(28655),o=n.n(r),a=n(71439),i=n(67294),l=n(42933),c=n(55099),s=n(67297),u=n(27952);function m(){var e=o()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return m=function(){return e},e}var d=function(e){var t=e.collection,n=(0,s.v9)((function(e){return e.config.authDomain})),r=(0,s.v9)((function(e){return e.navigation.currentLocation}));return i.createElement(i.Fragment,null,(null==t?void 0:t.name)&&i.createElement(l.x,{maxWidth:"100%",textAlign:"center"},i.createElement(c.z,{buttonStyle:"STRONG",href:(0,u.WGd)(t,r,n)},"Read more from ",t.name)))},p=(0,a.Ps)(m(),u.nfI)},49544:(e,t,n)=>{"use strict";n.d(t,{_U:()=>C,Dk:()=>L});var r=n(28655),o=n.n(r),a=n(59713),i=n.n(a),l=n(63038),c=n.n(l),s=n(46829),u=n(71439),m=n(67294),d=n(27493),p=n(76532),f=n(42933),g=n(3149),v=n(17614),E=n(95760),h=n(51512),x=n(6688),y=n(11348),b=n(6522);function P(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={display:"none"},I={":last-of-type":{xs:_,sm:_,md:_,lg:_,xl:{display:"block"}}},C=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),a=c()(o,2),i=a[0],l=a[1],u=(0,p.H)().value,b=(0,s.useLazyQuery)(k),P=c()(b,2),S=P[0],_=P[1],C=_.called,O=_.loading,T=_.error,R=_.data,A=(R=void 0===R?{post:void 0}:R).post,B=u&&L(u)&&!((0,y.yd)()||i),M=(0,E.Av)(),D=(0,x.I)(),N=(0,h.Lk)(),F=A&&A.readNext;return m.useEffect((function(){O||!T||F&&F.length||M.event("readNextError",{post:A,postId:r,error:T,readNextLength:F&&F.length||0})}),[O]),m.useEffect((function(){n&&F&&(M.event("readNext.viewed",{position:"sidebar"}),F.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return M.event("post.clientPresented",{source:(0,h.f0)(w(w({},N),{},{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,F]),!C&&B&&S({variables:{postId:r||""}}),C&&!O&&!T&&A&&F&&F.length&&B?m.createElement(h.cW,{source:{name:"read_next",sectionType:h.bA.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(f.x,{width:"188px"},m.createElement(f.x,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(f.x,{position:"absolute",right:"0",top:"-4px"},m.createElement(g.P,{onClick:function(){(0,y.Ph)(),l(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(f.x,{width:"200px"},m.createElement(v.F1,{scale:"XS"},"Your journey starts here.")),m.createElement(f.x,{display:"flex",flexDirection:"column",justifyContent:"space-between"},A.readNext.slice(0,4).map((function(e,t){var n=e.post;return n?m.createElement("div",{className:D(I),key:t},m.createElement(d.N,{key:t,post:n})):null})))))):null};function L(e){return e&&e.createdAt+b.pU>Date.now()}var k=(0,u.Ps)(P(),d.Q)},27493:(e,t,n)=>{"use strict";n.d(t,{N:()=>b,Q:()=>y});var r=n(28655),o=n.n(r),a=n(71439),i=n(67294),l=n(12291),c=n(27721),s=n(42933),u=n(98462),m=n(98024),d=n(86021),p=n(6688);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"}));const v=function(e){return i.createElement("svg",f({width:15,height:15,viewBox:"0 0 25 25"},e),g)};var E=n(90038),h=n(27952);function x(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n    clapCount\n  }\n"]);return x=function(){return e},e}var y=(0,a.Ps)(x()),b=(0,l.$j)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.shouldDisplayTopic,o=void 0===r||r,a=e.shouldDisplayClapCount,l=void 0!==a&&a,f=e.post,g=f&&f.previewImage||{},x=g.focusPercentX,y=g.focusPercentY,b=g.id,P=g.alt,S=f.collection||{},w=S.name,_=S.id,I=f.primaryTopic&&f.primaryTopic.name,C=_&&(n.includes(_)?w:I)||"",L=f&&f.title||"",k=(null==f?void 0:f.clapCount)||null,O=(0,h.jVf)(f,t),T=(0,p.I)(),R=l?2:3,A=l?58:50,B=i.createElement(s.x,{marginBottom:"4px"},i.createElement(d.Lh,{tag:"span"},i.createElement(m.F,{scale:"S",color:"DARKER"},i.createElement("div",{className:T({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},C))));return i.createElement(u.P,{href:O},i.createElement(s.x,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},o?B:null,i.createElement(s.x,{display:"flex",flexDirection:"row"},i.createElement(c.UV,{miroId:b||"",alt:P||"",height:A,width:A,freezeGifs:!0,strategy:E._S.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:x||50,focusPercentY:y||50}),i.createElement(s.x,{display:"flex",flexDirection:"column",width:"130px"},i.createElement(m.F,{scale:"S",color:"DARKER",clamp:R},L),l&&i.createElement(s.x,{display:"flex",flexDirection:"row",paddingTop:"2px"},i.createElement(v,null),i.createElement(s.x,{marginLeft:"4px",marginTop:"1px"},i.createElement(m.F,{scale:"XS",color:"LIGHTER"},k)))))))}))},14071:(e,t,n)=>{"use strict";n.d(t,{E:()=>m,U:()=>d});var r=n(28655),o=n.n(r),a=n(71439),i=n(67294),l=n(32272),c=n(42933),s=n(51512);function u(){var e=o()(["\n  fragment SharePostButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    ...SharePostButton_post\n  }\n  ","\n"]);return u=function(){return e},e}var m=(0,a.Ps)(u(),l.o);function d(e){var t=e.post,n=e.source,r="UNLISTED"===t.visibility;return i.createElement(s.cW,{source:n},i.createElement(c.x,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(l.f,{socialPlatform:"TWITTER",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),i.createElement(c.x,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(l.f,{socialPlatform:"LINKEDIN",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),i.createElement(c.x,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(l.f,{socialPlatform:"FACEBOOK",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})))}},93258:(e,t,n)=>{"use strict";n.d(t,{d:()=>f});var r=n(63038),o=n.n(r),a=n(67294),i=n(885),l=n(76532),c=n(324),s=n(55099),u=n(77180),m=n(1072),d=n(51064),p=n(534),f=function(e){var t=e.buttonSize,n=e.targetUserId,r=(0,d.O)(!1),f=o()(r,3),g=f[0],v=f[1],E=f[2],h=(0,u.F)(),x=(0,c.Uo)().baseTheme,y=(0,p.q3)(h,x),b=(0,l.H)().value;return b?a.createElement(m.f,{theme:y},a.createElement(i.E,{targetUserId:n,viewerId:b&&b.id},(function(e){var n=e.mutate;return a.createElement(s.z,{buttonStyle:g?"SUBTLE":"ERROR",onClick:n,size:t||"REGULAR",onMouseEnter:v,onMouseLeave:E},g?"Unblock":"Blocked")}))):null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7515.07ade40a.chunk.js.map